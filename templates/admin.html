{% extends 'main_temp.html' %}

{% block content %}

{% for message in get_flashed_messages() %}  
    <div class="alert alert-info alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor%}
    
<h1>Add Category</h1>
    <div class="shadow p-3 mb-5 bg-body rounded">
        <form method="POST">
            {{ form.hidden_tag() }}
            
            {{ form.category.label(class='form-label') }}
            {{ form.category(class='form-control') }}

            {{ form.words.label(class='form-label') }}
            {{ form.words(class='form-control') }}
            <br/>
            {{ form.submit(class='btn btn-primary') }}
        </form>
    </div>
    <div class='admin_container'>
    <table class="table table-striped table-hover"><section>Current Categories</section></br>
        <th>ID</th><th>Cat</th><th>#</th>
    {% for category in categories %}
        <tr>
        <td>{{ category.id }}</td>
        <td>{{ category.category }}</td>
        <td><a href='{{ url_for("delete_category", id=category.id)}}'>Delete</a></td>
        </tr>
    {% endfor %} 
    </table>
    </div><br><br>
    <div class='admin_container'>
        <h1>Users</h1>
        
        <table class="table table-striped table-hover"><section>Current Users (Click on users name to update)</section></br>
            <th>ID</th><th>User</th><th>e-mail</th><th>Record</th><th>#</th>
        {% for user in our_users %}
            <tr>
            <td>{{ user.id }}</td>
            <td><a href='{{ url_for("update", id=user.id)}}'>{{ user.username }}</a></td>
            <td>{{ user.email }}</td>
            <td>{{ user.record }}</td>
            <td><a href='{{ url_for("delete", id=user.id)}}'>Delete</a></td>
            </tr>
        {% endfor %} 
        </table>   
    </div>
 {% endblock %}